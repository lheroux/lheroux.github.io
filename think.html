// Update createParticle function:
function createParticle(x, y, text) {
  if (!settings.particles) return null;
  
  const particle = document.createElement('div');
  particle.className = 'click-particle';
  particle.textContent = text;
  particle.style.left = (x || 0) + 'px';
  particle.style.top = (y || 0) + 'px';
  
  document.body.appendChild(particle);
  
  // Clean up after animation
  particle.addEventListener('animationend', function() {
    if (particle.parentNode) {
      particle.parentNode.removeChild(particle);
    }
  });
  
  // Safety cleanup after 2 seconds
  setTimeout(() => {
    if (particle && particle.parentNode) {
      particle.parentNode.removeChild(particle);
    }
  }, 2000);
  
  return particle;
}
